<app-header></app-header>
<div class="content">
  <div class="form-position">
    <h3 class="form-title">Registrarse</h3>

    <form (ngSubmit)="onRegister()" #form="ngForm" class="form-content">

      <div class="form-group">
        <label for="nombre">Nombre</label>
        <input type="text" [(ngModel)]="user.first_name" name="first_name" (ngModelChange)="clearError('first_name')" (keypress)="allowOnlyLetters($event)">
        <div *ngIf="errorMessages['first_name']" class="error-text">{{ errorMessages['first_name'] }}</div>
      </div>

      <div class="form-group">
        <label for="rut">RUT</label>
        <input type="text" [(ngModel)]="user.rut" name="rut" (ngModelChange)="clearError('rut')">
        <div *ngIf="errorMessages['rut']" class="error-text">{{ errorMessages['rut'] }}</div>
      </div>

      <div class="form-group">
        <label for="pr_app">Apellido paterno</label>
        <input type="text" [(ngModel)]="user.last_name" name="last_name" (ngModelChange)="clearError('last_name')" (keypress)="allowOnlyLetters($event)">
        <div *ngIf="errorMessages['last_name']" class="error-text">{{ errorMessages['last_name'] }}</div>
      </div>

      <div class="form-group">
        <label for="sg_app">Apellido materno</label>
        <input type="text" [(ngModel)]="user.second_last_name" name="second_last_name" (ngModelChange)="clearError('second_last_name')"(keypress)="allowOnlyLetters($event)">
        <div *ngIf="errorMessages['second_last_name']" class="error-text">{{ errorMessages['second_last_name'] }}</div>
      </div>

      <div class="form-group">
        <label for="email">Correo</label>
        <input type="email" [(ngModel)]="user.email" name="email" (ngModelChange)="clearError('email')">
        <div *ngIf="errorMessages['email']" class="error-text">{{ errorMessages['email'] }}</div>
      </div>

      <div class="form-group">
        <label for="telefono">Teléfono</label>
        <input type="tel" [(ngModel)]="user.phone" name="phone" (ngModelChange)="clearError('phone')" (keypress)="allowOnlyNumbers($event)">
        <div *ngIf="errorMessages['phone']" class="error-text">{{ errorMessages['phone'] }}</div>
      </div>

      <div class="form-group-addres">
        <label for="address">Domicilio</label>
        <input type="text"  [(ngModel)]="user.address" name="address" (ngModelChange)="clearError('address')">
        <div *ngIf="errorMessages['address']" class="error-text">{{ errorMessages['address'] }}</div>
      </div>

<div class="form-row">
  <div class="form-group">
    <label for="password">Contraseña</label>
    <input type="password" [(ngModel)]="user.password" name="password" (ngModelChange)="clearError('password')">
    <div *ngIf="errorMessages['password']" class="error-text">{{ errorMessages['password'] }}</div>
  </div>

  <div class="form-group">
    <label for="conf_password">Confirmar Contraseña</label>
    <input type="password" [(ngModel)]="user.conf_pass" name="conf_pass" (ngModelChange)="clearError('conf_pass')">
    <div *ngIf="errorMessages['conf_pass']" class="error-text">{{ errorMessages['conf_pass'] }}</div>
  </div>
</div>

    </form>

    <br>
    <div style="display: flex;">
      <input type="checkbox" id="acceptedTerms" name="acceptedTerms"[(ngModel)]="user.acceptedTerms" required>
      <label for="policies">acepto la <strong>Politica de privacidad</strong> y los <strong>Terminos de servicio</strong></label>
    </div>
    <br>
    <div style="display: flex;">
      <label for="policies"> ¿Ya tienes cuenta? <a href="" style="text-decoration: none;"><strong>Inicia sesión</strong></a></label>
    </div>
    <br>
    <button style="background-color: orange; border-style: none; text-align: center;" (click)="onRegister()" [disabled]="!user.acceptedTerms">Crear cuenta</button>
  </div>
</div>

<app-footer></app-footer>
